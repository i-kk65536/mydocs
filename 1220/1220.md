# チーム開発
3I14 公文健太

## 共同実験者
3I08 井上 高志  
3I20 杉本 隼都  
3I34 藤原 魁  

## 目的
- 一つのシステムを複数人からなるチームで構築するポイントや流れを理解する
- 一つのシステム(システムは複数のプログラムの集合体)を複数人で実装する経験を積む
- git/githubのpull requestを使ったコードレビューとマージの概念を理解し、実践する
- 開発だけではなく、運用を想定し、開発環境や使うツールの選定や整備を経験する

## 課題1
1. gitの練習(各々のブランチ作り、ブランチ間でPull Requestによりマージする場合)の考察
    - コンフリクトが発生した場合、どちらの変更点が正しいか、どちらも必要なのかを確認しコンフリクトを直す
    - ブランチ名をなんの作業をするブランチかわかりやすくする
    - 新しくブランチを作るとき、もとになっているものはどれなのか確認してから作成する
    - コミットをこまめに行い、gitに変更履歴を残す
## 課題2
1. 担当したパート
    バックエンド
2. 自分の開発したパートのシステム概要、実装方法
    - 利用するコンポーネント
        - Web framework : flask
        - WebSocket platform : SocketIO
        - SQL DB : MySQL
        - Object Relational Mapper : SQLAlchemy
        - ORM/ODM/framework : marshmallow
    - システム概要
        - sensorClient - apiserver - mysql
            > sensorClientがLocdataを送信 -> apiserverがLocdataを受信 -> apiserverがmysqlにLocdataを格納
        - mapviewClient - apiserver - mysql
            > mapviewClientがヒートマップデータ要求 -> apiserverがmysqlからヒートマップデータを取得 -> apiserverがヒートマップデータを返す
    - 実装方法
        - sensorClientがLocdataを送信
            > *sensorClient側*
        - apiserverがLocdataを受信
            > socket.ioで、acclocメッセージを受信
        - apiserverがmysqlにLocdataを格納
            > `session.add(locdata)`  
            > `session.commit()` で格納
        - mapviewClientがヒートマップデータ要求
            > *mapviewClient側*
        - apiserverがmysqlからヒートマップデータを取得
            > `locdata = session.query(Locdata).all()` で取得して、  
            > schemaで緯度、経度、加速度絶対値のみを変換する
        - apiserverがヒートマップデータを返す
            > `emit('geoloc', jsonstring)` で送信する
3. 自分の開発したパートの確認方法と結果
4. チーム全体で作成したシステムの確認方法と結果

## 理解したこと、理解できていないこと
